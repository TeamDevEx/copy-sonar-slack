# Sonarqube Slack Integration :handshake:

This action posts a Slack message in a specific channel to provide information about the SonarQube Quality Gate results when a scan is completed on a pull request. The information generated by the Quality Gate check will be posted into Slack with all of the appropriate links to point to the various parts of the SonarQube scan that was done.

## How it works? :gear:


## Prerequisites :construction:


## How to use this aaction? :compass:

### Inputs :inbox_tray:
- `slackToken`: A token to allow the use of your Slack Bot. This input should be a action secret in your repository (referenced as `${{ secrets.SLACK-BOT-TOKEN-NAME }}`).
- `channelID`: ID of the Slack channel to post the SonarQube Quality Gate results to.

### Outputs :outbox_tray:
- `slack-msg-payload`: A Slack message object (formatted using the slack-block-builder package) containing the results of the Quality Gate.

### Usage :memo:
Replace the placeholder value for `channelID` to one that fits your use case and change `SLACK_BOT_TOKEN` to the name of your repository secret that stores your Slack bot token.

``` yaml
name: SonarQube Slack Integration
on:
  check_run:
    type: ['completed']

jobs: 
    job_id:
        # ...
        steps:
        # ...
        - name: Run SonarQube Slack Integration
          uses: telus/cdo-actions-sonarqube-slack-integration@v1
          with:
            slackToken: ${{ secrets.SLACK_BOT_TOKEN }}
            channelID: '<channelID>'
        # ...
```